import{e as S,a0 as b,w as V,o as P,g as H,n as T,a1 as A,a2 as F,P as U,b as w,h as I}from"./index.1f97ba4d.js";import{v as R,f as x}from"./use-router-link.9769059d.js";function D(e,t,l){let u;function n(){u!==void 0&&(b.remove(u),u=void 0)}return S(()=>{e.value===!0&&n()}),{removeFromHistory:n,addToHistory(){u={condition:()=>l.value===!0,handler:t},b.add(u)}}}const E={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},k=["beforeShow","show","beforeHide","hide"];function q({showing:e,canShow:t,hideOnRouteChange:l,handleShow:u,handleHide:n,processOnMount:h}){const f=H(),{props:r,emit:i,proxy:c}=f;let a;function M(o){e.value===!0?d(o):m(o)}function m(o){if(r.disable===!0||o!==void 0&&o.qAnchorHandled===!0||t!==void 0&&t(o)!==!0)return;const s=r["onUpdate:modelValue"]!==void 0;s===!0&&(i("update:modelValue",!0),a=o,T(()=>{a===o&&(a=void 0)})),(r.modelValue===null||s===!1)&&v(o)}function v(o){e.value!==!0&&(e.value=!0,i("beforeShow",o),u!==void 0?u(o):i("show",o))}function d(o){if(r.disable===!0)return;const s=r["onUpdate:modelValue"]!==void 0;s===!0&&(i("update:modelValue",!1),a=o,T(()=>{a===o&&(a=void 0)})),(r.modelValue===null||s===!1)&&p(o)}function p(o){e.value!==!1&&(e.value=!1,i("beforeHide",o),n!==void 0?n(o):i("hide",o))}function y(o){r.disable===!0&&o===!0?r["onUpdate:modelValue"]!==void 0&&i("update:modelValue",!1):o===!0!==e.value&&(o===!0?v:p)(a)}V(()=>r.modelValue,y),l!==void 0&&R(f)===!0&&V(()=>c.$route.fullPath,()=>{l.value===!0&&e.value===!0&&d()}),h===!0&&P(()=>{y(r.modelValue)});const g={show:m,hide:d,toggle:M};return Object.assign(c,g),g}function C(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,A(t))}}}function N(){let e=null;const t=H();function l(){e!==null&&(clearTimeout(e),e=null)}return F(l),S(l),{removeTimeout:l,registerTimeout(u,n){l(),x(t)===!1&&(e=setTimeout(u,n))}}}function $(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),U.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const z={name:String};function G(e={}){return(t,l,u)=>{t[l](I("input",{class:"hidden"+(u||""),...e.value}))}}function J(e){return w(()=>e.name||e.for)}export{k as a,N as b,$ as c,q as d,D as e,C as f,z as g,G as h,J as i,E as u};
